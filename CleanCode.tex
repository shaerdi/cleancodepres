\documentclass{beamer} 
\usepackage[ngerman]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{mathptmx} 
\usepackage{outlines} 
\usepackage{listings}
\usepackage{tikz}

\usepackage{multirow}
\usepackage{booktabs}

\usetheme{ntb}

\title[CleanCode]{Clean Code}
\author{Simon Härdi}
\institute{Institute for Computational Engineering}
\date{xx}

\graphicspath{ {pictures/} }

\include{macros}
\include{lstdefinition}


\begin{document}

{
\setbeamertemplate{footline}{} % No footer on first slide
\begin{frame}
\maketitle
\end{frame}
}

%\begin{frame}
    %\frametitle{Inhalt}
    %\tableofcontents
%\end{frame}

\section{Einleitung}

\begin{frame}
\frametitle{Einleitung}
\begin{columns}
    \begin{column}{0.6\textwidth}
        \begin{outline}
            \1 Was ist Clean Code?
            \1[]
            \1 Wieso betrifft das uns?
            \1[] (Wir sind doch Ingenieure, keine
            Informatiker\ldots)
        \end{outline}
    \end{column}
    \begin{column}{0.4\textwidth}
        \includegraphics[width=\linewidth]{cleanCodeBook.jpg}
    \end{column}
\end{columns}
\end{frame}

\begin{frame}[fragile]
    \frametitle{Einführungsbeispiel}
    Ignaz soll einen Bug in einem Code fixen. Er konnte den Fehler auf folgende
    Funktion zurückführen:
\begin{lstlisting}
...
result = testPoints(x,y);
...
\end{lstlisting}
Leider hatte der Autor keine Zeit für Kommentare, und Ignaz ist nicht sicher,
was die Funktion eigentlich machen soll. Helft Ignaz herauszufinden,
was die Funktion \codeemph{testPoints} tut und wo der Fehler liegt.
\end{frame}

\begin{frame}
    \frametitle{Resultat des Codes}
    \begin{center}
        \includegraphics[width=0.8\linewidth]{GrafikResultat.png}
    \end{center}
\end{frame}


\begin{frame}
    \frametitle{Grundsatz:}
    \begin{center}
        \huge \bf Code wird öfters gelesen als geschrieben
    \end{center}
    \vspace{2em}\pause
    Also nicht \textit{'Wie schreibe ich schnell Code?'}, \\
    sondern \textit{'Wie schreibe ich schnell \textbf{zu lesenden} Code?'}
\end{frame}

\begin{frame}
    \frametitle{Wann ist Code einfach zu lesen?}
    \begin{center}
        \includegraphics[width=7cm]{wtfm.jpg}
    \end{center}
\end{frame}

\section{Basics}
\begin{frame}
    \tableofcontents
    \begin{tikzpicture}[overlay,
        shift={(current page.south west)},
        x = \paperwidth,
        y = \paperheight,
    ]
\end{tikzpicture}
    \only<2->{
    \begin{tikzpicture}[overlay,
        shift={(current page.south west)},
        x = \paperwidth,
        y = \paperheight,
    ]
    \draw[red] (0.27,0.62) to[out=0,in=180] ++(0.025,-0.1) node[right] (a) {}
    to[out=180,in=0] ++(-0.025,-0.1);
    \draw[->,red] (0.6,0.5) node[right] {Für alle Codes!} 
    to[out=170,in=10] (a);
    \end{tikzpicture}}
    \only<3->{
    \begin{tikzpicture}[overlay,
        shift={(current page.south west)},
        x = \paperwidth,
        y = \paperheight,
    ]
    \draw[red] (0.45,0.36) to[out=0,in=180] ++(0.025,-0.11) node[right] (b) {}
    to[out=180,in=0] ++(-0.025,-0.11);
    \draw[->,red] (0.6,0.2) node[right,align=left] {Für grössere /\\
    Codes (Projekte)} 
    to[out=170,in=10] (b);
    \end{tikzpicture}}
\end{frame}
\begin{frame}
    \tableofcontents[currentsection]
    \begin{tikzpicture}[overlay,
        shift={(current page.south west)},
        x = \paperwidth,
        y = \paperheight,
    ]
\end{tikzpicture}
\end{frame}
\subsection{Namen}
\begin{frame}
    \frametitle{Namen}
        %TODO: Lustiges Bild
    Grundregeln:

    \begin{outline}
        \1 Ein guter Variablenname ist besser als ein Kommentar
        \1 Mit einer IDE sind lange Namen kein Problem
        \1 Keine Abkürzungen, Füllwörter oder Hungarian Naming
    \end{outline}
\end{frame}
\begin{frame}
    \frametitle{Beispiele}
    \begin{center}
        \includegraphics[width=\linewidth]{NamenBeispiele.PNG}
    \end{center}
    \begin{columns}[t]
        \column{0.5\textwidth}
        \begin{center}
            \huge \color{red} Schlecht
        \end{center}
        \column{0.5\textwidth}
        \begin{center}
            \huge \color{green} Gut
        \end{center}
    \end{columns}
\end{frame}

\subsection{Funktionen}
\begin{frame}
    \frametitle{Funktionen}
    Grundregeln:

    \begin{outline}
        \pause
        \1 Kurz
        \pause
        \1 Kürzer!
        \pause
        \1 Nur eine Sache
        \pause
        \1 Möglichst wenig Argumente
    \end{outline}
\end{frame}
\begin{frame}
    \frametitle{Beispiele}
    \begin{columns}[t]
        \column{0.5\textwidth}
        \begin{center}
            \includegraphics[height=4.5cm]{FunktionSchlecht.png}
        \end{center}
        \column{0.5\textwidth}
        \begin{center}
            \includegraphics[width=\linewidth]{FunktionGut.png}
        \end{center}
    \end{columns}
    \begin{columns}[t]
        \column{0.5\textwidth}
        \begin{center}
            \huge \color{red} Schlecht
        \end{center}
        \column{0.5\textwidth}
        \begin{center}
            \huge \color{green} Gut
        \end{center}
    \end{columns}
\end{frame}

\subsection{Kommentare}
\begin{frame}
    \frametitle{Kommentare}
    Grundregeln:

    \begin{outline}
        \pause
        \1 Kommentare sind \emph{nicht} per se gut
        \pause
        \1 Weniger ist mehr
        \pause
        \1 Ein Kommentar sollte immer wohlüberlegt sein
        \pause
        \1 Kein Code auskommentieren
    \end{outline}
\end{frame}
\begin{frame}
    \frametitle{Beispiele}
    \begin{columns}[t]
        \column{0.5\textwidth}
        \begin{center}
            \huge \color{green} Gut
        \end{center}
        \column{0.5\textwidth}
        \begin{center}
            \huge \color{red} Schlecht
        \end{center}
    \end{columns}
\end{frame}

\section{Erweitert}
\begin{frame}
    \tableofcontents[currentsection]
\end{frame}
\subsection{Versionierungssystem}
\begin{frame}
    \frametitle{Versionierungsystem}

    Eine Versionskontrolle ist unerlässlich für
    \begin{outline}
        \1 Absicherung gegen Ausfälle
        \1 Zusammenarbeit von mehreren Leuten
        \1 Schnelles Austesten von neuen Funktionen
        \1 ...
    \end{outline} \pause

    Welches System?
    \begin{outline}
        \1 Egal
        \2 Git
        \2 Svn
        \2 Mercurial
    \end{outline}
\end{frame}
\subsection{Tests}
\begin{frame}
    \frametitle{Tests}
    Woher ist bekannt, ob der Code funktioniert?\pause

    \begin{outline}
        \1 Jeder schreibt Tests, aber of nur in der Konsole
        \1 Gehören zum Code dazu
    \end{outline} \pause

    Unit-Tests:
    \begin{outline}
        \1 Alles einzeln Testen
            \2 Jede Funktion
            \2 Möglichst jeden Spezialfall
    \end{outline}
    $\Rightarrow$ Es gibt für (fast) alle Sprachen bereits sehr bequeme
    Frameworks, um solche Tests aufzusetzen und laufen zu lassen.
\end{frame}
\begin{frame}
    \frametitle{Beispiel}
    %TODO: TestCode zeigen
\end{frame}
\subsection{Test Driven Development}
\begin{frame}
    \frametitle{Test Driven Development}
    Vorgehen:

    \begin{outline}
        \1 Tests \emph{vor} der Funktion schreiben
        \1 Ein Test $\rightarrow$ Eine Funktion $\rightarrow$ repeat
    \end{outline}\pause

    Vorteile:

    \begin{outline}
        \1 Führt zu sehr kleinen Funktionen
        \1 Anforderungen an den Code müssen jeweils \emph{vor} dem Schreiben
        definiert werden
        \1 Debuggen wird stark reduziert und viel einfacher
    \end{outline}
\end{frame}
\begin{frame}
    \frametitle{Beispiel}
    %TODO: 
\end{frame}

\subsection{Successive Refinement}
\begin{frame}
    \frametitle{Successive Refinement}
    \begin{outline}
        \1 Code ist \emph{nicht} fertig, sobald er funktioniert
        \1 Kontinuierlich verbessern
        \1 Dank Tests keine Angst, etwas kaputt zu machen
    \end{outline}
\end{frame}

\section{Fazit}
\begin{frame}
    \frametitle{Fazit}
    \begin{outline}
        \1 Beschreibende Namen
        \1 Kurze Funktionen
        \1 Kommentare überlegt benutzen
        \1 Versionierungssystem benutzen
        \1 Tests \emph{zuerst} schreiben
    \end{outline}
\end{frame}

\end{document}
